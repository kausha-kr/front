# 데이터베이스 스키마 설계

## 테이블 관계도 요약

```
tbl_member (1) ──────┬──── (1) tbl_member_feed
                     │
                     ├──── (N) tbl_post
                     │
                     ├──── (N) tbl_follows (N:N 중간테이블)
                     │
                     ├──── (N) tbl_notifications
                     │
                     ├──── (N) tbl_messages
                     │
                     ├──── (N) tbl_message_room
                     │
                     ├──── (1) tbl_partner_category
                     │
                     └──── (N) tbl_pay

tbl_team (1) ────────┬──── (1) tbl_team_feed
                     │
                     └──── (1) tbl_team_category

tbl_funding (1) ─────┴──── (N) tbl_pay
```

---

## 1. tbl_member (사용자)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 사용자_고유번호 | PK | BIGINT | - | - |
| 사용자_이메일 | 이메일 (UNIQUE) | VARCHAR(100) | - | - |
| 사용자_비밀번호 | 암호화된 비밀번호 | VARCHAR(255) | - | - |
| 사용자_이름 | 이름 | VARCHAR(50) | - | - |
| 사용자_폰번호 | 전화번호 | VARCHAR(20) | - | - |
| 사용자_프로필이미지 | 프로필 사진 URL | VARCHAR(500) | - | - |
| 사용자_인증여부 | 이메일 인증 여부 | BOOLEAN | - | - |
| 사용자_등록일 | 가입일 | DATETIME | - | - |
| 사용자_수정일 | 정보 수정일 | DATETIME | - | - |
| 사용자_마지막로그인 | 최근 로그인 | DATETIME | - | - |

**관계:**
- `tbl_member_feed` (1:1) - 한 사용자는 하나의 피드 정보
- `tbl_post` (1:N) - 한 사용자는 여러 게시글 작성 가능
- `tbl_follows` (N:N) - 사용자 간 팔로우 관계
- `tbl_notifications` (1:N) - 한 사용자는 여러 알림 수신
- `tbl_messages` (1:N) - 한 사용자는 여러 메시지 발신
- `tbl_pay` (1:N) - 한 사용자는 여러 결제 가능

---

## 2. tbl_member_feed (사용자 피드 정보)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 피드_고유번호 | PK | BIGINT | - | - |
| 사용자_포지션 | 직무 | ENUM | - | - |
| 사용자_경력 | 경력 수준 | ENUM | - | - |
| 사용자_관심분야 | 관심 분야 | ENUM | - | - |
| 사용자_합류조건 | 합류 조건 | ENUM | - | - |
| 사용자_학력 | 학력 정보 | VARCHAR(100) | - | - |
| 사용자_고유번호 | 사용자 FK | BIGINT | FK → tbl_member | **N:1** (member 1명당 feed 1개) |

**관계:** `tbl_member`와 **1:1** 관계

---

## 3. tbl_post (게시글)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 게시글_고유번호 | PK | BIGINT | - | - |
| 게시글_제목 | 제목 | VARCHAR(200) | - | - |
| 게시글_내용 | 본문 | TEXT | - | - |
| 게시글_사진 | 이미지 URL | VARCHAR(500) | - | - |
| 게시글_조회수 | 조회수 | INT | - | - |
| 게시글_작성일 | 작성일 | DATETIME | - | - |
| 게시글_수정일 | 수정일 | DATETIME | - | - |
| 게시글_삭제여부 | 삭제 상태 | ENUM | - | - |
| 작성자_고유번호 | 작성자 FK | BIGINT | FK → tbl_member | **N:1** |

**관계:** `tbl_member`와 **N:1** 관계 (여러 게시글 → 한 사용자)

---

## 4. tbl_follows (팔로우) - N:N 중간 테이블

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 팔로우_고유번호 | PK | BIGINT | - | - |
| 팔로워_고유번호 | 팔로우 하는 사람 | BIGINT | FK → tbl_member | **N:1** |
| 팔로잉_고유번호 | 팔로우 받는 사람 | BIGINT | FK → tbl_member | **N:1** |
| 팔로우_일시 | 팔로우한 시간 | DATETIME | - | - |

**관계:** `tbl_member`와 **N:N** 관계 (사용자 ↔ 사용자)
- 한 사용자는 여러 명을 팔로우 가능
- 한 사용자는 여러 명에게 팔로우 받을 수 있음

---

## 5. tbl_notifications (알림)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 알림_고유번호 | PK | BIGINT | - | - |
| 수신자_고유번호 | 알림 받는 사람 | BIGINT | FK → tbl_member | **N:1** |
| 발신자_고유번호 | 알림 보낸 사람 | BIGINT | FK → tbl_member | **N:1** |
| 알림_타입 | 팔로우/메일/팀요청 등 | ENUM | - | - |
| 대상_게시물_고유번호 | 관련 게시물 | BIGINT | FK → tbl_post (NULL 가능) | **N:1** |
| 알림_메시지 | 알림 내용 | VARCHAR(500) | - | - |
| 알림_일시 | 알림 시간 | DATETIME | - | - |

**관계:**
- `tbl_member`와 **N:1** (수신자, 발신자 각각)
- `tbl_post`와 **N:1** (선택적)

---

## 6. tbl_message_room (대화방)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 대화방_고유번호 | PK | BIGINT | - | - |
| 생성자_고유번호 | 대화방 만든 사람 | BIGINT | FK → tbl_member | **N:1** |
| 초대자_고유번호 | 초대된 사람 | BIGINT | FK → tbl_member | **N:1** |
| 생성일시 | 대화방 생성 시간 | DATETIME | - | - |

**관계:** `tbl_member`와 **N:1** (1:1 채팅방 기준)

---

## 7. tbl_messages (메시지)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 메시지_고유번호 | PK | BIGINT | - | - |
| 대화방_고유번호 | 대화방 FK | BIGINT | FK → tbl_message_room | **N:1** |
| 발신자_고유번호 | 보낸 사람 | BIGINT | FK → tbl_member | **N:1** |
| 수신자_고유번호 | 받는 사람 | BIGINT | FK → tbl_member | **N:1** |
| 메시지_내용 | 메시지 본문 | TEXT | - | - |
| 읽음_여부 | 읽음 상태 | BOOLEAN | - | - |
| 메시지_일시 | 전송 시간 | DATETIME | - | - |

**관계:**
- `tbl_message_room`와 **N:1** (한 대화방에 여러 메시지)
- `tbl_member`와 **N:1** (발신자, 수신자 각각)

---

## 8. tbl_team (팀)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 팀_고유번호 | PK | BIGINT | - | - |
| 팀_카테고리 | 사업 분야 | VARCHAR(50) | - | - |
| 팀_이름 | 팀명 | VARCHAR(100) | - | - |
| 팀_URL | 팀 페이지 URL | VARCHAR(200) | - | - |
| 팀장_이메일 | 팀장 이메일 | VARCHAR(100) | FK → tbl_member (이메일) | **N:1** |
| 팀_승인여부 | 승인 상태 | BOOLEAN | - | - |
| 팀_등록일 | 등록일 | DATETIME | - | - |
| 팀_삭제여부 | 삭제 상태 | ENUM | - | - |

**관계:**
- `tbl_team_feed` (1:1) - 한 팀은 하나의 피드 정보
- `tbl_team_category` (1:1) - 한 팀은 하나의 카테고리 정보

---

## 9. tbl_team_feed (팀 피드 정보)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 피드_고유번호 | PK | BIGINT | - | - |
| 팀_규모 | 팀 인원 | ENUM | - | - |
| 팀_현재단계 | 팀 상태 | ENUM | - | - |
| 팀_모집포지션 | 모집 중인 직무 | ENUM | - | - |
| 팀_기술스택 | 기술 스택 | VARCHAR(500) | - | - |
| 팀_프로필 | 팀 프로필 이미지 | VARCHAR(500) | - | - |
| 팀_상세소개 | 상세 소개 | TEXT | - | - |
| 팀_고유번호 | 팀 FK | BIGINT | FK → tbl_team | **N:1** (team 1개당 feed 1개) |

**관계:** `tbl_team`와 **1:1** 관계

---

## 10. tbl_team_category (팀 리스트/카테고리)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 리스트_고유번호 | PK | BIGINT | - | - |
| 리스트_사업분야 | 사업 분야 | ENUM | - | - |
| 리스트_포지션 | 모집 포지션 | ENUM | - | - |
| 리스트_팀규모 | 팀 규모 | ENUM | - | - |
| 리스트_현재단계 | 현재 단계 | ENUM | - | - |
| 팀_등록일 | 등록일 | DATETIME | - | - |
| 팀_조회수 | 조회수 | INT | - | - |
| 팀_고유번호 | 팀 FK | BIGINT | FK → tbl_team | **N:1** |

**관계:** `tbl_team`와 **1:1** 관계

---

## 11. tbl_partner_category (파트너 리스트/카테고리)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 리스트_고유번호 | PK | BIGINT | - | - |
| 리스트_포지션 | 포지션 | ENUM | - | - |
| 리스트_경력 | 경력 | ENUM | - | - |
| 리스트_관심분야 | 관심 분야 | ENUM | - | - |
| 리스트_합류조건 | 합류 조건 | ENUM | - | - |
| 사용자_고유번호 | 사용자 FK | BIGINT | FK → tbl_member | **N:1** |

**관계:** `tbl_member`와 **1:1** 관계

---

## 12. tbl_funding (펀딩)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 펀딩_고유번호 | PK | BIGINT | - | - |
| 펀딩_카테고리 | 펀딩 분야 | VARCHAR(50) | - | - |
| 펀딩_목표금액 | 목표 금액 | DECIMAL | - | - |
| 펀딩_현재금액 | 현재 모금액 | DECIMAL | - | - |
| 펀딩_이름 | 펀딩 제목 | VARCHAR(200) | - | - |
| 펀딩_시작일 | 시작일 | DATE | - | - |
| 펀딩_마감일 | 마감일 | DATE | - | - |
| 펀딩_이미지 | 이미지 URL | VARCHAR(500) | - | - |
| 펀딩_영상 | 영상 URL | VARCHAR(500) | - | - |
| 펀딩_내용 | 상세 내용 | TEXT | - | - |
| 등록자_이메일 | 등록자 FK | VARCHAR(100) | FK → tbl_member (이메일) | **N:1** |
| 펀딩_등록일 | 등록일 | DATETIME | - | - |
| 펀딩_상태 | 진행/완료/취소 | ENUM | - | - |

**관계:**
- `tbl_member`와 **N:1** (한 사용자가 여러 펀딩 등록 가능)
- `tbl_pay`와 **1:N** (한 펀딩에 여러 결제)

---

## 13. tbl_pay (결제)

| 컬럼명 | 설명 | 타입 | FK | 관계 |
|--------|------|------|----|----|
| 결제_고유번호 | PK | BIGINT | - | - |
| 결제자_고유번호 | 결제한 사용자 | BIGINT | FK → tbl_member | **N:1** |
| 펀딩_고유번호 | 결제 대상 펀딩 | BIGINT | FK → tbl_funding | **N:1** |
| 결제_최종금액 | 최종 결제 금액 | DECIMAL | - | - |
| 결제_후원금액 | 후원 금액 | DECIMAL | - | - |
| 결제_상태 | 완료/취소/대기 | ENUM | - | - |
| 결제_수단 | 카드/계좌이체 등 | ENUM | - | - |
| 결제_일시 | 결제 시간 | DATETIME | - | - |

**관계:**
- `tbl_member`와 **N:1** (한 사용자가 여러 결제 가능)
- `tbl_funding`와 **N:1** (한 펀딩에 여러 결제 가능)

---

## 관계 요약표

| 관계 | 테이블 A | 테이블 B | 설명 |
|------|----------|----------|------|
| **1:1** | tbl_member | tbl_member_feed | 사용자 ↔ 사용자 피드 |
| **1:1** | tbl_member | tbl_partner_category | 사용자 ↔ 파트너 카테고리 |
| **1:1** | tbl_team | tbl_team_feed | 팀 ↔ 팀 피드 |
| **1:1** | tbl_team | tbl_team_category | 팀 ↔ 팀 카테고리 |
| **1:N** | tbl_member | tbl_post | 사용자 → 게시글들 |
| **1:N** | tbl_member | tbl_notifications | 사용자 → 알림들 |
| **1:N** | tbl_member | tbl_messages | 사용자 → 메시지들 |
| **1:N** | tbl_member | tbl_pay | 사용자 → 결제들 |
| **1:N** | tbl_message_room | tbl_messages | 대화방 → 메시지들 |
| **1:N** | tbl_funding | tbl_pay | 펀딩 → 결제들 |
| **N:N** | tbl_member | tbl_member | 사용자 ↔ 사용자 (팔로우) |

---

## ENUM 값 정의

### 포지션 (position)
- 프론트엔드 개발자, 백엔드 개발자, 풀스택 개발자, AI/ML 엔지니어, UI/UX 디자이너, PM/기획자, 마케터, 비즈니스/세일즈

### 경력 (experience)
- 학생/신입, 주니어(1-3년), 미들(4-7년), 시니어(8년+)

### 관심분야 (interest)
- 사이드 프로젝트, 스타트업 창업, 해커톤, 스터디, 오픈소스, 멘토링, 프리랜서 협업, 기타

### 합류조건 (join_condition)
- 공동 창업자(지분), 풀타임 합류, 파트타임 참여, 주말/저녁(본업 유지), 프로젝트 단위, 멘토/어드바이저

### 팀 규모 (team_size)
- 1-2명(창업자 찾기), 3-5명, 6-10명

### 팀 현재단계 (team_stage)
- 아이디어 단계, MVP 개발 중, 베타 서비스 운영, 정식 서비스 출시, 성장 단계

### 사업분야 (business_field)
- SaaS/B2B, 핀테크, 헬스케어, 이커머스, 에듀테크, 소셜/커뮤니티, 엔터테인먼트, AI/머신러닝, 기타
